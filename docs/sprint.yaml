name: spark-ui - Sprint 1
started: '2025-12-03'
phase: implementing
current_spec: button-component

# ==============================================================================
# SHARED FOUNDATION (Must Complete First)
# ==============================================================================
foundation:
  status: done
  tasks:
    - id: foundation-001
      name: Project scaffolding and design tokens
      description: |
        Set up the project structure, package.json, and design tokens.
        Create the foundation that all components depend on.
      files:
        - package.json
        - src/index.js
        - src/tokens/tokens.css
        - README.md
        - vite.config.js
        - index.html
        - .gitignore
      acceptance_criteria:
        - Package.json with name, version, main entry point
        - Design tokens CSS with all color, spacing, typography variables
        - Main index.js that will export all components
        - Basic README with installation instructions
      depends_on: []
      estimate: 1h
      status: done
      completed: '2025-12-03'

# ==============================================================================
# BUTTON COMPONENT
# ==============================================================================
specs:
  button-component:
    status: ready
    file: docs/specs/button-component.md
    complexity: low
    parallelizable: true
    depends_on: [foundation-001]
    tasks:
      - id: button-001
        name: Button component structure
        description: |
          Create SparkButton Web Component with Shadow DOM,
          slot for content, and attribute handling.
        files:
          - src/components/button/button.js
          - src/components/button/button.css
        acceptance_criteria:
          - Custom element registered as spark-button
          - Shadow DOM with encapsulated styles
          - Slot projects button content
          - Observed attributes: variant, size, disabled, loading, type
        depends_on: []
        estimate: 2h
        status: pending

      - id: button-002
        name: Button variants and sizes
        description: |
          Implement all visual variants (primary, secondary, outline, ghost, danger)
          and size options (small, medium, large).
        files:
          - src/components/button/button.css
          - src/components/button/button.js
        acceptance_criteria:
          - Primary variant with filled background
          - Secondary variant with muted colors
          - Outline variant with border only
          - Ghost variant with no background/border
          - Danger variant with red color scheme
          - Small/medium/large sizes with appropriate padding
        depends_on: [button-001]
        estimate: 1h
        status: pending

      - id: button-003
        name: Button states (disabled, loading)
        description: |
          Implement disabled state preventing interaction and
          loading state with spinner animation.
        files:
          - src/components/button/button.js
          - src/components/button/button.css
        acceptance_criteria:
          - Disabled attribute prevents clicks
          - Disabled removes from tab order
          - Loading shows spinner, hides text
          - Loading prevents additional clicks
          - CSS spinner animation included
        depends_on: [button-001]
        estimate: 1h
        status: pending

      - id: button-004
        name: Button accessibility
        description: |
          Ensure keyboard navigation, focus indicators, and
          ARIA attributes are properly implemented.
        files:
          - src/components/button/button.js
          - src/components/button/button.css
        acceptance_criteria:
          - Tab focuses button with visible ring
          - Enter and Space trigger click
          - aria-disabled when disabled
          - aria-busy when loading
          - Focus styles visible on all variants
        depends_on: [button-002, button-003]
        estimate: 1h
        status: pending

  # ==============================================================================
  # CARD COMPONENT
  # ==============================================================================
  card-component:
    status: ready
    file: docs/specs/card-component.md
    complexity: low
    parallelizable: true
    depends_on: [foundation-001]
    tasks:
      - id: card-001
        name: Card component structure
        description: |
          Create SparkCard, SparkCardHeader, SparkCardBody, SparkCardFooter
          Web Components with Shadow DOM and slots.
        files:
          - src/components/card/card.js
          - src/components/card/card.css
        acceptance_criteria:
          - spark-card registered with default slot
          - spark-card-header with slot and styling
          - spark-card-body with slot and padding
          - spark-card-footer with slot and styling
          - All use Shadow DOM encapsulation
        depends_on: []
        estimate: 2h
        status: pending

      - id: card-002
        name: Card elevation levels
        description: |
          Implement elevation attribute with 4 shadow levels (0-3).
        files:
          - src/components/card/card.css
          - src/components/card/card.js
        acceptance_criteria:
          - elevation="0" has no shadow
          - elevation="1" (default) has subtle shadow
          - elevation="2" has medium shadow
          - elevation="3" has prominent shadow
          - Invalid values clamp to valid range
        depends_on: [card-001]
        estimate: 1h
        status: pending

      - id: card-003
        name: Clickable card behavior
        description: |
          Implement clickable attribute with hover states,
          keyboard interaction, and cursor changes.
        files:
          - src/components/card/card.js
          - src/components/card/card.css
        acceptance_criteria:
          - clickable adds tabindex="0"
          - Hover state changes elevation/cursor
          - Enter/Space triggers click event
          - Non-clickable cards not in tab order
          - Click events bubble properly
        depends_on: [card-001]
        estimate: 1h
        status: pending

  # ==============================================================================
  # INPUT COMPONENT
  # ==============================================================================
  input-component:
    status: ready
    file: docs/specs/input-component.md
    complexity: medium
    parallelizable: true
    depends_on: [foundation-001]
    tasks:
      - id: input-001
        name: Input component structure
        description: |
          Create SparkInput Web Component with label, native input,
          and message area for helper/error text.
        files:
          - src/components/input/input.js
          - src/components/input/input.css
        acceptance_criteria:
          - Custom element registered as spark-input
          - Shadow DOM with label, input, message area
          - Label programmatically associated with input
          - Observed attributes defined
        depends_on: []
        estimate: 2h
        status: done
        completed: '2025-12-03'

      - id: input-002
        name: Input types and value binding
        description: |
          Implement type attribute (text, email, password, number, search)
          and two-way value binding.
        files:
          - src/components/input/input.js
        acceptance_criteria:
          - type attribute passes to native input
          - value property reflects input value
          - input event fires with current value
          - change event fires on blur
          - Placeholder attribute works
        depends_on: [input-001]
        estimate: 1h
        status: pending

      - id: input-003
        name: Input states (error, helper, disabled, required)
        description: |
          Implement validation states, helper text, disabled,
          and required field indicator.
        files:
          - src/components/input/input.js
          - src/components/input/input.css
        acceptance_criteria:
          - error attribute shows red border and message
          - helper attribute shows hint text below input
          - Error takes precedence over helper
          - disabled grays out input, prevents typing
          - required shows asterisk, sets aria-required
        depends_on: [input-001]
        estimate: 1h
        status: pending

      - id: input-004
        name: Input accessibility
        description: |
          Ensure label association, error announcements,
          and keyboard navigation work correctly.
        files:
          - src/components/input/input.js
          - src/components/input/input.css
        acceptance_criteria:
          - Label click focuses input
          - aria-describedby links helper/error
          - Error announced to screen readers
          - Focus ring visible on keyboard focus
          - aria-invalid set when error present
        depends_on: [input-002, input-003]
        estimate: 1h
        status: pending

  # ==============================================================================
  # MODAL COMPONENT
  # ==============================================================================
  modal-component:
    status: ready
    file: docs/specs/modal-component.md
    complexity: medium
    parallelizable: true
    depends_on: [foundation-001]
    tasks:
      - id: modal-001
        name: Modal component structure
        description: |
          Create SparkModal and section components with backdrop,
          dialog container, and content slots.
        files:
          - src/components/modal/modal.js
          - src/components/modal/modal.css
        acceptance_criteria:
          - spark-modal with backdrop and dialog
          - spark-modal-header, body, footer components
          - open/close methods work
          - Hidden by default, visible when open
        depends_on: []
        estimate: 2h
        status: pending

      - id: modal-002
        name: Modal size variants and close button
        description: |
          Implement size attribute (small, medium, large, full)
          and close button in header.
        files:
          - src/components/modal/modal.js
          - src/components/modal/modal.css
        acceptance_criteria:
          - size="small" ~400px width
          - size="medium" ~600px width (default)
          - size="large" ~800px width
          - size="full" fills viewport
          - Close button visible, triggers close
          - closable="false" hides close button
        depends_on: [modal-001]
        estimate: 1h
        status: pending

      - id: modal-003
        name: Modal keyboard and backdrop behavior
        description: |
          Implement Escape to close, backdrop click behavior,
          and scroll locking.
        files:
          - src/components/modal/modal.js
          - src/components/modal/modal.css
        acceptance_criteria:
          - Escape closes modal
          - escape="false" disables Escape close
          - Backdrop click closes modal
          - backdrop="static" prevents backdrop close
          - Body scroll locked when open
          - close event includes reason
        depends_on: [modal-001]
        estimate: 1h
        status: pending

      - id: modal-004
        name: Modal focus trap and accessibility
        description: |
          Implement focus trap, return focus, and ARIA attributes.
        files:
          - src/components/modal/modal.js
        acceptance_criteria:
          - Focus moves to first focusable on open
          - Tab wraps within modal
          - Shift+Tab wraps backwards
          - Focus returns to trigger on close
          - role="dialog" and aria-modal="true"
          - aria-labelledby links to header
        depends_on: [modal-002, modal-003]
        estimate: 2h
        status: pending

  # ==============================================================================
  # TOAST COMPONENT
  # ==============================================================================
  toast-component:
    status: ready
    file: docs/specs/toast-component.md
    complexity: medium
    parallelizable: true
    depends_on: [foundation-001]
    tasks:
      - id: toast-001
        name: Toast API and container
        description: |
          Create SparkToast singleton API and spark-toast-container
          Web Component for rendering toasts.
        files:
          - src/components/toast/toast.js
          - src/components/toast/toast.css
        acceptance_criteria:
          - SparkToast.show() displays toast
          - Container auto-created if not in DOM
          - Toast appears in corner of screen
          - Default duration 3000ms
        depends_on: []
        estimate: 2h
        status: pending

      - id: toast-002
        name: Toast types and styling
        description: |
          Implement toast types (info, success, warning, error)
          with icons and color coding.
        files:
          - src/components/toast/toast.js
          - src/components/toast/toast.css
        acceptance_criteria:
          - info type has blue styling
          - success type has green styling with check
          - warning type has yellow styling
          - error type has red styling
          - Icons displayed for each type
          - Shorthand methods work (SparkToast.success, etc.)
        depends_on: [toast-001]
        estimate: 1h
        status: pending

      - id: toast-003
        name: Toast stacking and positioning
        description: |
          Implement toast stacking, position options,
          and max stack limit.
        files:
          - src/components/toast/toast.js
          - src/components/toast/toast.css
        acceptance_criteria:
          - Multiple toasts stack vertically
          - Position configurable (4 corners)
          - Max stack (5) removes oldest
          - Toasts reposition on dismiss
          - configure() sets defaults
        depends_on: [toast-001]
        estimate: 1h
        status: pending

      - id: toast-004
        name: Toast dismiss and animations
        description: |
          Implement manual dismiss, auto-dismiss timers,
          and entry/exit animations.
        files:
          - src/components/toast/toast.js
          - src/components/toast/toast.css
        acceptance_criteria:
          - Close button dismisses toast
          - toast.dismiss() method works
          - duration: 0 persists until dismissed
          - Entry animation (slide in)
          - Exit animation (fade out)
          - dismissAll() clears all toasts
        depends_on: [toast-002, toast-003]
        estimate: 1h
        status: pending

      - id: toast-005
        name: Toast accessibility
        description: |
          Implement aria-live announcements for screen readers.
        files:
          - src/components/toast/toast.js
        acceptance_criteria:
          - Container has aria-live region
          - Non-error toasts announced politely
          - Error toasts announced assertively
          - Messages readable by screen readers
        depends_on: [toast-001]
        estimate: 1h
        status: pending

  # ==============================================================================
  # AVATAR COMPONENT
  # ==============================================================================
  avatar-component:
    status: ready
    file: docs/specs/avatar-component.md
    complexity: low
    parallelizable: true
    depends_on: [foundation-001]
    tasks:
      - id: avatar-001
        name: Avatar component structure
        description: |
          Create SparkAvatar Web Component with image,
          initials fallback, and default icon.
        files:
          - src/components/avatar/avatar.js
          - src/components/avatar/avatar.css
        acceptance_criteria:
          - spark-avatar registered
          - Image displays when src provided
          - Initials display as fallback
          - Default icon when no src/initials
          - Circular shape with overflow hidden
        depends_on: []
        estimate: 2h
        status: pending

      - id: avatar-002
        name: Avatar sizes and image error handling
        description: |
          Implement size variants and graceful fallback
          when images fail to load.
        files:
          - src/components/avatar/avatar.js
          - src/components/avatar/avatar.css
        acceptance_criteria:
          - size="small" is 24px
          - size="medium" is 40px (default)
          - size="large" is 64px
          - size="xlarge" is 96px
          - Image error falls back to initials
          - No initials falls back to default icon
        depends_on: [avatar-001]
        estimate: 1h
        status: pending

      - id: avatar-003
        name: Avatar status indicator
        description: |
          Implement status dot indicator (online, away, busy, offline).
        files:
          - src/components/avatar/avatar.js
          - src/components/avatar/avatar.css
        acceptance_criteria:
          - status="online" shows green dot
          - status="away" shows yellow dot
          - status="busy" shows red dot
          - status="offline" shows gray dot
          - No status hides indicator
          - Dot positioned at bottom-right
        depends_on: [avatar-001]
        estimate: 1h
        status: pending

      - id: avatar-004
        name: Avatar group component
        description: |
          Create SparkAvatarGroup for overlapping display
          with overflow badge.
        files:
          - src/components/avatar/avatar.js
          - src/components/avatar/avatar.css
        acceptance_criteria:
          - spark-avatar-group registered
          - Avatars overlap with negative margin
          - max attribute limits visible avatars
          - Overflow shows "+N" badge
          - Proper z-index stacking
        depends_on: [avatar-001]
        estimate: 1h
        status: pending

      - id: avatar-005
        name: Avatar initials color generation
        description: |
          Generate consistent background colors from initials.
        files:
          - src/components/avatar/avatar.js
        acceptance_criteria:
          - Same initials always get same color
          - Colors spread across palette
          - Initials truncated to 2 characters
          - Good contrast with white text
        depends_on: [avatar-001]
        estimate: 1h
        status: pending

# ==============================================================================
# SUMMARY
# ==============================================================================
summary:
  total_tasks: 24
  foundation_tasks: 1
  component_tasks: 23
  estimated_effort: 31h
  parallelizable_components: 6
  
notes: |
  All tasks created and ready for implementation.
  
  Task distribution:
  - Foundation: 1 task (1h) - MUST complete first
  - Button: 4 tasks (5h)
  - Card: 3 tasks (4h)
  - Input: 4 tasks (5h)
  - Modal: 4 tasks (6h)
  - Toast: 5 tasks (6h)
  - Avatar: 5 tasks (6h)
  
  Recommended approach:
  1. Complete foundation-001 first (required by all components)
  2. Use /orchestrate to build all 6 components in parallel
  3. Each component's tasks should be completed sequentially within that component
